wc_on_infusion_changed = {
	effect = {
		infusion_traits_effect = yes
		infusion_racial_traits_effect = yes
	}
}

wc_on_birth_child_infusion = { 
	effect = {
		if = { 
			limit = { 
				NOT = { 
					scope:child = {
						has_trait = infusion_cosmic
					}
				}
			}

			scope:child = {
				add_trait = infusion_cosmic
			}
		}

		if = { 
			limit = { 
				scope:real_father = {
					has_trait = infusion_cosmic
				}
				scope:mother = {
					has_trait = infusion_cosmic
				}
			}

			scope:child = {
				add_magic_infusion_effect = { MAGIC = light_void ADD = parent_average_infusion_light_void }
				add_magic_infusion_effect = { MAGIC = arcane_fel ADD = parent_average_infusion_arcane_fel }
				add_magic_infusion_effect = { MAGIC = nature_death ADD = parent_average_infusion_nature_death }
			}
		}
		else_if = { 
			limit = { 
				scope:real_father = {
					has_trait = infusion_cosmic
				}
			}

			scope:child = {
				add_magic_infusion_effect = { MAGIC = light_void ADD = father_infusion_light_void }
				add_magic_infusion_effect = { MAGIC = arcane_fel ADD = father_infusion_arcane_fel }
				add_magic_infusion_effect = { MAGIC = nature_death ADD = father_infusion_nature_death }
			}
		}
		else_if = { 
			limit = { 
				scope:mother = {
					has_trait = infusion_cosmic
				}
			}

			scope:child = {
				add_magic_infusion_effect = { MAGIC = light_void ADD = mother_infusion_light_void }
				add_magic_infusion_effect = { MAGIC = arcane_fel ADD = mother_infusion_arcane_fel }
				add_magic_infusion_effect = { MAGIC = nature_death ADD = mother_infusion_nature_death }
			}
		}
	}
}