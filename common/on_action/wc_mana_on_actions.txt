wc_on_mana_regeneration = {
	effect = {
		if = {
			limit = { has_variable = wc_current_mana_variable }

			wc_change_mana_by_value_effect = {
				CHANGE = add
				VALUE = wc_mana_regeneration_value
			}
		}
		else = {
			set_variable = { name = wc_current_mana_variable value = wc_max_mana_value }
			wc_recalculate_prowess_from_mana_effect = yes
		}

		trigger_event = { on_action = wc_on_mana_regeneration months = 1 }
	}
}

wc_on_health_regeneration = {
	effect = {
		if = {
			limit = { has_variable = wc_current_hp_variable }
			wc_change_hp_by_value_effect = {
				CHANGE = add
				VALUE = wc_hp_replenishment_value
			}
		}

		else = {
			set_variable = { name = wc_current_hp_variable value = wc_hp_capacity_value }
		}

		trigger_event = { on_action = wc_on_health_regeneration months = 1 }
	}
}

wc_on_spell_progression = {
	effect = {
		every_in_list = {
			variable = current_spells_casting
			save_scope_as = casting_spell
			root = {
				execute_scoped_spell_effect = {
					SPELL = scope:casting_spell
					EFFECT = add_spell_progression_effect
				}
			}
		}
		every_in_list = {
			variable = spells_cd
			save_scope_as = cd_spell
			root = {
				execute_scoped_spell_effect = {
					SPELL = scope:cd_spell
					EFFECT = update_spell_cooldown_effect
				}
			}
		}
		if = { # so it doesnt double count spells
			limit = {
				NOT = { exists = var:spell_loop_on }
			}
			set_variable = { name = spell_loop_on value = yes }
		}
		trigger_event = { on_action = wc_on_spell_progression days = 1 }
	}
}