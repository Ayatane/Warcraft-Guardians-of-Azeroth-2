open_professions_sgui = {
	scope = character

	effect = {
		if = { limit = { NOT = { exists = var:known_reagents_count } }
			set_variable = {
				name = known_reagents_count
				value = 0
			}
		}
		if = {
			limit = { NOT = { exists = global_var:mining_reagents_done } }
			init_mining_reagents_effect = yes
		}
	}
}

save_profession_sgui = {
	scope = character
	saved_scopes = { selected_profession }
	effect = {
		switch = {
			trigger = scope:selected_profession
			flag:Mining = {
				create_story = mining_story_cycle
			}
		}
	}
}

remove_profession_sgui = {
	scope = character
	saved_scopes = { selected_profession }
	effect = {
		switch = {
			trigger = scope:selected_profession
			flag:Mining = {
				random_owned_story = {
					limit = { story_type = mining_story_cycle }
					end_story = yes
				}
			}
		}
	}
}

close_current_view_sgui = {
	scope = character
	effect = {
		if = {
			limit = { has_variable_list = current_view_list }
			clear_variable_list = current_view_list
		}
	}
}

buy_reagent_sgui = {}
