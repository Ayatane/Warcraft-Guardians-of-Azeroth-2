open_professions_sgui = {
	scope = character

	effect = {
		if = {
			limit = { NOT = { has_variable = profession_1 }}
			set_variable = {
				name = profession_1
				value = flag:none
			}
		}
		if = {
			limit = { NOT = { has_variable = profession_2 }}
			set_variable = {
				name = profession_2
				value = flag:none
			}
		}	
		
	}
}

close_professions_sgui = {
	effect = {
		if = {
			limit = { has_variable = profession_1_oncd }
			remove_variable = profession_1_oncd
		}
		if = {
			limit = { has_variable = profession_2_oncd }
			remove_variable = profession_2_oncd
		}
	}
}
# this is ciringe
save_profession_sgui = {
	scope = character
	saved_scopes = { selected_profession }
	effect = {
		if = {
			limit = { scope:selected_profession = flag:Mining }
			add_trait = profession_mining
			save_scope_value_as = { name = new_profession value = flag:profession_mining }
		}
		if = {
			limit = { scope:selected_profession = flag:Herbalism }
			add_trait = profession_herbalism
			save_scope_value_as = { name = new_profession value = flag:profession_herbalism }
		}
		if = {
			limit = { scope:selected_profession = flag:Skinning }
			add_trait = profession_skinning
			save_scope_value_as = { name = new_profession value = flag:profession_skinning }
		}
		if = {
			limit = { scope:selected_profession = flag:Blacksmithing }
			add_trait = profession_blacksmithing
			save_scope_value_as = { name = new_profession value = flag:profession_blacksmithing }
		}
		if = {
			limit = { scope:selected_profession = flag:Alchemy }
			add_trait = profession_alchemy
			save_scope_value_as = { name = new_profession value = flag:profession_alchemy }
		}
		if = {
			limit = { scope:selected_profession = flag:Enchanting }
			add_trait = profession_enchanting
			save_scope_value_as = { name = new_profession value = flag:profession_enchanting }
		}
		if = {
			limit = { scope:selected_profession = flag:Engineering }
			add_trait = profession_engineering
			save_scope_value_as = { name = new_profession value = flag:profession_engineering }
		}
		if = {
			limit = { scope:selected_profession = flag:Inscription }
			add_trait = profession_inscription
			save_scope_value_as = { name = new_profession value = flag:profession_inscription }
		}
		if = {
			limit = { scope:selected_profession = flag:Jewelcrafting }
			add_trait = profession_jewelcrafting
			save_scope_value_as = { name = new_profession value = flag:profession_jewelcrafting }
		}
		if = {
			limit = { scope:selected_profession = flag:Cooking }
			add_trait = profession_cooking
			save_scope_value_as = { name = new_profession value = flag:profession_cooking }
		}
		if = {
			limit = { scope:selected_profession = flag:Tailoring }
			add_trait = profession_tailoring
			save_scope_value_as = { name = new_profession value = flag:profession_tailoring }
		}
		if = {
			limit = {
				var:profession_1 = flag:none
				var:profession_2 = flag:none
			}
			set_variable = {
				name = profession_1
				value = scope:new_profession
			}
			add_character_flag = {
				flag = profession_1_cd
				years = 1
			}
		}
		else_if = {
			limit = {
				NOT = { var:profession_1 = flag:none }
				var:profession_2 = flag:none
			}
			set_variable = {
				name = profession_2
				value = scope:new_profession
			}
			add_character_flag = {
				flag = profession_2_cd
				years = 1
			}
		}
	}
}

check_cd_sgui = {
	scope = character 
	effect = {
		if = {
			limit = { has_character_flag = profession_1_cd }
			set_variable = {
				name = profession_1_oncd
				value = yes
			}
		}
		if = {
			limit = { has_character_flag = profession_2_cd }
			set_variable = {
				name = profession_2_oncd
				value = yes
			}
		}
	}
}

buy_reagent_sgui = {}
