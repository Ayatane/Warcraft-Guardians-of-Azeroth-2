open_professions_sgui = {
	scope = character

	effect = {
		if = {
			limit = { NOT = { has_variable = profession_1 }}
			set_variable = {
				name = profession_1
				value = flag:none
			}
		}
		if = {
			limit = { NOT = { has_variable = profession_2 }}
			set_variable = {
				name = profession_2
				value = flag:none
			}
		}	
		
	}
}

close_professions_sgui = {
	effect = {
		if = {
			limit = { has_variable = profession_1_oncd }
			remove_variable = profession_1_oncd
		}
		if = {
			limit = { has_variable = profession_2_oncd }
			remove_variable = profession_2_oncd
		}
	}
}

save_profession_sgui = {
	scope = character
	saved_scopes = { profession }
	effect = {
		hidden_effect = {
			if = {
				limit = { has_trait_with_flag = profession_trait }
				set_variable = {
					name = profession_2
					value = scope:profession
				}
				add_character_flag = {
					flag = profession_2_cd
					years = 1
				}
			}
			else = {
				set_variable = {
					name = profession_1
					value = scope:profession
				}
				add_character_flag = {
					flag = profession_1_cd
					years = 1
				}
			}
		}
		add_trait = scope:profession
	}
}

check_cd_sgui = {
	scope = character 
	effect = {
		if = {
			limit = { has_character_flag = profession_1_cd }
			set_variable = {
				name = profession_1_oncd
				value = yes
			}
		}
		if = {
			limit = { has_character_flag = profession_2_cd }
			set_variable = {
				name = profession_2_oncd
				value = yes
			}
		}
	}
}

buy_reagent_sgui = {}
