# Character Scope
# Calculates chance of finding reagent, then you can recall it in var:chance_current_reagent
chance_of_finding_reagent_effect = {
	set_variable = {
		name = chance_current_reagent
		value = 0
	}
	location = {
		save_scope_as = origin
	}
	change_variable = {
		name = chance_current_reagent
		add = {
			# By Reagent Location
			switch = {
				trigger = $REAGENT$
				#BLACKSMITHING
				#Found Everywhere
				flag:gold = { 
					value = 50
				}
				flag:silver = { 
					value = 50
				}
				flag:iron = { 
					value = 50
				}
				flag:thorium = {
					if = { limit = {
						OR = {
							scope:origin.geographical_region = world_eastern_kingdoms_azeroth_stranglethorn
							scope:origin.geographical_region = world_kalimdor_south_silithus
							scope:origin.geographical_region = world_kalimdor_south_ungoro
						} }
						value = 50
					}
				}
				flag:obsidium = {
					if = { limit = {
						OR = {
							scope:origin.geographical_region = world_south_seas_vashjir
							scope:origin.geographical_region = world_kalimdor_north_hyjal
						} }
						value = 50
					}
				}
				flag:pyrite = {
					if = { limit = {
						OR = {
							scope:origin.geographical_region = world_kalimdor_south_uldum	
							scope:origin.geographical_region = world_eastern_kingdoms_lordaeron_kul_tiras
						} }
						value = 50
					}
				}
				flag:elementium = {
					if = { limit = {
						OR = {
							scope:origin.geographical_region = world_broken_isles_highmountain
							scope:origin.geographical_region = world_eastern_kingdoms_khaz_modan
							scope:origin.geographical_region = world_kalimdor_south_uldum	
							scope:origin.geographical_region = world_kalimdor_south_tanaris
						} }
						value = 50
					}
				}
				flag:trillium = {
					if = { limit = { scope:origin.geographical_region = world_pandaria } 
						value = 50
					}
				} 
				flag:saronite = {
					if = { limit = { scope:origin.geographical_region = world_northrend }
						value = 50
					}
				}
				flag:titansteel = {
					if = { limit = { scope:origin.geographical_region = world_northrend }
						value = 50
					}
				}
				flag:ghost_iron = {
					if = { limit = { scope:origin.geographical_region = world_pandaria } 
						value = 50
					}
				}
				flag:draconium = {
					if = { limit = {
						OR = {
							this = b_dragon_isles
							this = b_mostrasz
							scope:origin.province.owner ?= { has_trait_with_flag = dragon_family }
						} }
						value = 50
					}
				}
				flag:leystone = {
					if = { limit = { scope:origin.geographical_region = world_broken_isles }
						value = 50
					}
				}
				flag:felsteel = {
					if = { limit = { 
						OR = {
							scope:origin.geographical_region = world_broken_isles
							scope:origin.province.owner ?= { has_trait_with_flag = demon_class }
						} }
						value = 50
					}
				}
				flag:cobalt = {
					if = { limit = { scope:origin.geographical_region = world_northrend }
						value = 50
					}
				}
				flag:khorium = {
					if = { limit = { scope:origin.geographical_region = world_eastern_kingdoms_quelthalas }
						value = 50
					}
				}
				flag:earthen = {
					if = { limit = { 
						OR = {
							scope:origin.geographical_region = world_northrend
							scope:origin.geographical_region = world_eastern_kingdoms_khaz_modan
						} }
						value = 50
					}
				}
				flag:mithril = {
					if = { limit = { 
						OR = {
							scope:origin.geographical_region = world_eastern_kingdoms 
							scope:origin.geographical_region = world_kalimdor
						}}
						value = 50
					}
				}
			}
			# By Rarity
			# By Skill
		}
	}
}
		
