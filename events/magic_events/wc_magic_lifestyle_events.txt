namespace = magic_lifestyle

# ███    ███  █████   ██████  ██  ██████                                   
# ████  ████ ██   ██ ██       ██ ██                                        
# ██ ████ ██ ███████ ██   ███ ██ ██                                        
# ██  ██  ██ ██   ██ ██    ██ ██ ██                                        
# ██      ██ ██   ██  ██████  ██  ██████

# ██      ██ ███████ ███████ ███████ ████████ ██    ██ ██      ███████     
# ██      ██ ██      ██      ██         ██     ██  ██  ██      ██          
# ██      ██ █████   █████   ███████    ██      ████   ██      █████       
# ██      ██ ██      ██           ██    ██       ██    ██      ██          
# ███████ ██ ██      ███████ ███████    ██       ██    ███████ ███████  

# ███████ ██    ██ ███████ ███    ██ ████████ ███████                      
# ██      ██    ██ ██      ████   ██    ██    ██                           
# █████   ██    ██ █████   ██ ██  ██    ██    ███████                      
# ██       ██  ██  ██      ██  ██ ██    ██         ██                      
# ███████   ████   ███████ ██   ████    ██    ███████

# "take good care of my baby!" - Shatterstar, Jan 2024

##################################################################
# 0000 - 0999 : Events Immediately Following Lifestyle Selection 
# (one year or less)
##################################################################

# TODO: ADD EVENTS HERE!

# TODO: magic_lifestyle.0100 - 


#######################################
#             1000 - 1999             #
#      Elemental Lifestyle Events     #
#######################################


##################################################################
# 1600 - 1699 Elemental Fire Only
##################################################################

##################################################################
# 1700 - 1799 Elemental Water Only
##################################################################

##################################################################
# 1800 - 1899 Elemental Air Only
##################################################################

##################################################################
# 1900 - 1999 Elemental Earth Only
##################################################################


#######################################
#             2000 - 2999             #
#      Arcane Lifestyle Events        #
#######################################


##################################################################
# 1600 - 1799 Pure Arcane Only
##################################################################

##################################################################
# 1800 - 1999 Antipodal Only (arcane ice and fire)
##################################################################

#######################################
#             3000 - 3999             #
#      	  Fel Lifestyle Events        #
#######################################


#######################################
#             4000 - 4999             #
#      Nature Lifestyle Events        #
#######################################


#######################################
#             4000 - 4999             #
#       Death Lifestyle Events        #
#######################################


#######################################
#             5000 - 5999             #
#       Light Lifestyle Events        #
#######################################


#######################################
#             6000 - 6999             #
#      Shadow Lifestyle Events        #
#######################################

#######################################
#             7000 - 8999             #
#     All Magic Lifestyle Events      #
#######################################

# Despondent Widow
magic_lifestyle.7000 = { 
	type = character_event
	title = magic_lifestyle.7000.title
	desc = magic_lifestyle.7000.desc
	left_portrait =  { 
		character = root
		pose = drink_goblet
	}
	right_portrait = { 
		character = scope:despondent_widow
		pose = grief
	}

	immediate = { 
		create_character = {
			template = wc_despondent_widow
			save_scope_as = despondent_widow
			after_creation = {
				trigger_race_giving_no_gene_effect = yes
			}
		}
		hidden_effect = {
			add_visiting_courtier = scope:despondent_widow
		}
	}

	# Earth or Arcane - conjure a replica of her husband
	option = { 
		# WHEN - At least 5 perks in Earth or Arcane 
		trigger = { 

		}
		# HOW - Duel (Diplomacy + number of perks vs her diplomacy) 
		#		success = it works and everyone loves you + a small amount of xp in the lifestyle you used 
		#		failure = everyone thinks you're a jerk

	}

	# Fel or Death - reanimate his corpse
	option = { 
		# WHEN - At least 5 perks in Death or Fel and this magic
		# HOW - Random chance ( 20% + 50% if she has Lunatic Melancolic Deviant or Possessed) that you get the same success result as opt 1. 
		#		Automatic success if your religion or culture loves death magic and it is legal
	}

	# Other lifestyles (or wise man) - hold a seance
	option = { 
		# WHEN - At least 5 perks in Life, Light, Shadow (if it's legal); Elemental Fire, Air, or Water
		# HOW - Random chance ( 45% + number of total perks in these trees) it works and everyone loves you plus you get prestige
	}

	# Refuse to help
	option = { 
	}


	after = { 
		scope:despondent_widow = { # this character will have high stats, we should keep her alive if the player wants to hire or marry her (off)
			if = { 
				limit = { 
					NOT = { 
						exists = employer 
						any_spouse = { is_alive = yes }
					} 
				} 
				override_death_effect = { death_reason = death_vanished }
			}
		}
	}
}


##################################################################
# 9000 - 9999 :  
# (all lifestyles: yearly pulse)
##################################################################




# Additional ideas:
# - Blackmailer coerces you to do illegal magic for them
# - You have an opportunity to do illegal magic on your blackmailer only you can remove
#   -- If the blackmailer doesnt know anyone else that can do that kind of magic, they will likely accept!
# - Blackmailer wants to learn this illegal magic from you
#   -- Dark Apprentice story cycle???????? could be fun!

##################################################################
# 8000 - 9999 :  Random Magic Lifestyle Events
##################################################################

# TODO: ADD EVENTS HERE!
