namespace = legioninvasion1

## Events for the summoning of the burning legion



### Event fires once Decision to summon burning legion is completed. This event will spawn the initial Hyjal Invasion forces and the Vanguard Lordaeron forces.
burninglegion.0001 = {
	type = character_event
	#window = fullscreen_event
	title = BULEG.0001_TITLE
	desc = BULEG.0001_DESC
	theme = skull
	left_portrait = {
		character = scope:summonerofburninglegion
		animation = personality_zealous
	}

	immediate = {
		scope:archimonde = {
			save_scope_as = archimonde
			set_variable = {
				name = archimonde
				value = ROOT
			}
		}
	}

	create_character = {
		template = archimonde_template
		save_scope_as = archimonde_invasion
		location = root.location
	}
	character:archimonde = {
		save_scope_as = archimonde_old
	}
}

burninglegion.0002 = { # Archimonde setup and buffs
	type = character_event
	title = BULEG.0002_TITLE
	desc = BULEG.0002_DESC
	theme = realm
	#override_background = wc_throne_of_thunder

	immediate = {
		archimonde_create_court_effect = yes
		save_scope_as = archimonde
	}
	
	left_portrait = {
		character = ROOT
		animation = war_over_win
	}

	right_portrait = {
		character = scope:summonerofburninglegion
		animation = personality_honorable
	}

	option = {
		name = BULEG.0002_A
		
		# Send demands of Subjugation
		custom_tooltip = BULEG.0002_A_TT
		hidden_effect = {
			every_independent_ruler = {
				limit = {
					is_ai = yes
					is_landed = yes
					in_diplomatic_range = scope:archimonde
					OR = {
						culture = { has_cultural_pillar = heritage_demonic }
						culture = { has_cultural_pillar = heritage_xavic }
						faith = faith:burning_legion_religion
					}
					highest_held_title_tier >= tier_county
					highest_held_title_tier <= tier_kingdom
					NOR = {
						is_at_war_with = scope:archimonde
						this = scope:archimonde
					}
				}
				trigger_event = {
				#	id = pandaria_unification.2001
					days = { 3 12 }
				}
			}
		}
	}
	
	after = {
		# Notification
		every_player = { # News Event
			limit = {
				is_landed = yes
			}
			trigger_event = {
				id = wc_news_event.0001
				days = 5
			}
		}
	}
}